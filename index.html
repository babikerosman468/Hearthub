<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Babs Hub</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <img src="heart.jpg" alt="Heart Logo" class="logo" />
    <h1>Welcome to Babs Hub</h1>
    <p>Your gateway to Heart-Coherent Projects</p>
    <div class="status">
      <span id="clock">--:--:--</span> |
      <span id="db-status">Checking DB...</span>
    </div>
  </header>

  <main class="cards">
    <a href="/hub/copyall.html" class="card">
      <h2>Hub</h2>
      <p>Central files & notes</p>
    </a>
    <a href="/babsapp" class="card">
      <h2>BabsApp</h2>
      <p>Tools & documentation</p>
    </a>
    <a href="/lula" class="card">
      <h2>Project</h2>
      <p>CHD</p>
    </a>
  </main>

  <!-- ‚úÖ Connected Apps Section -->
  <section id="connectedAppsSection">
    <button id="toggleAppsBtn">Show Connected Apps</button>
    <div id="connectedApps" class="connected-apps" style="display:none;">
      <h3>Explore Our Connected Apps</h3>
      <p>Access our other platforms to stay engaged:</p>
      <a id="lulaSupport" class="app-link" href="http://localhost:3020" target="_blank">üåç Lula Support</a>
      <a id="babsAppLink" class="app-link" href="http://localhost:3030" target="_blank">‚ú® BabsApp</a>
    </div>
  </section>

  <footer>
    <div class="wave"></div>
    <p>&copy; 2025 Babs Hub. All rights reserved.</p>
  </footer>

  <script>
    // Live clock
    function updateClock() {
      const now = new Date();
      const time = now.toLocaleTimeString();
      document.getElementById('clock').textContent = time;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // DB ping
    async function checkDB() {
      try {
        const res = await fetch('/pingdb');
        if (res.ok) {
          document.getElementById('db-status').textContent = '‚úÖ DB Connected';
        } else {
          document.getElementById('db-status').textContent = '‚ùå DB Down';
        }
      } catch {
        document.getElementById('db-status').textContent = '‚ùå DB Down';
      }
    }
    checkDB();
    setInterval(checkDB, 10000);

    // Toggle Connected Apps
    const toggleBtn = document.getElementById('toggleAppsBtn');
    const connectedApps = document.getElementById('connectedApps');

    toggleBtn.addEventListener('click', () => {
      if (connectedApps.style.display === 'none') {
        connectedApps.style.display = 'block';
        toggleBtn.textContent = 'Hide Connected Apps';
      } else {
        connectedApps.style.display = 'none';
        toggleBtn.textContent = 'Show Connected Apps';
      }
    });
  </script>
</body>
</html>

